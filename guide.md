## Summary
**Perplexity Codex**  is a tool that does 2 things:
 - **Automatically gets** your conversations **and the AI generated files** from Perplexity by simulating a human using a browser.
 - Index, view and search your exported conversations. In a way it is even better than Perplexity because for long conversations you cannot search inside reliably unless you scroll page by page to load it in the browser memory.

## How to use it

1.  **Launch**: Run `npm start` in your terminal (cmd or powershell). Do it in the folder/directory where you installed **Perplexity Codex**. This starts the server (http://localhost:3000/viewer.html) and **automatically opens the viewer** in your browser.

2.  **âš™ï¸ Settings** - configure before the first run! 
	- **Login**: Enter your email. This will be used automatically by the auto-browser engine. **This is a must!** The rest you can leave as defaults.
	- **Keep Browser Open** - Keep the auto-browser open to avoid re-logging. 
	- **Inactivity Timeout**  - timeout to close the browser. This is to avoid keeping your login/session for too long and get it in a strange state from Perplexity point of view.
	- **Min Delay** and **Max Delay**: Random delay between saving each conversation  to avoid rate limits by Perplexity. So far, the defaults are not causing a problem.
	- **Batch size**: Again, a way to keep the load and triggers happy at Perplexity. The tool will pull the set amount of conversations and stop. To get the next batch you need to manually import them again. So far, few hundreds are not causing a problem.
	- **Library scan optimisation**" decides how extensive the list of the scanned conversations to be. Full scan will get all of your Library titles. You should do that once. Then use the scan of the top conversations to get only the changed ones. No matter the depth of the scan, the number of downloaded conversations is determined by the Batch Size. 
3.  **ðŸš€ Start Auto Import** 
	- This will get all **new** conversations from Perplexity. The tool will take also the files generated by Perplexity. The pulled files will be in the sub-folder "export/". **NB!** The extraction depends on the Batch Size and Scanning depth! If you want it all in one shot, set to Full Scan, and Batch Size to 10000, for example (or higher than what you have in your Library). 
	- **Very important!** The auto-browsing engine will start in the background. Check the task bar for a flashing Chrome icon with a "T" on it. 
	
	![Browser](./browser-flashing.png)
	- Click it and **wait** until a **confirmation code screen** is shown. Don't try to take over, to enter your e-mail, or click on anything. 
	- Your only job is: **Wait! Check your e-mail! Enter the verification code** you will get from Perplexity. 
	- After that leave this browser alone! Don't touch it, don't close it! (Don't like, don't subscribe!) 
	- You can switch to another app and leave it in the background. 
4.  **Search**: Use the sidebar to search all exported content. It is indexed and full-text auto search is enabled. 
5. Sort by Newest/Oldest - same as in Perplexity history. 
6. Click on an article to view. You can see the source text of the markdown file or the on-line version of it - see the buttons at the top right.
7. **ðŸ§  Re-index Library**. When your work inside perplexity on old conversations and download them, you need to re-index for the search to work well.
8. Once you are done, close the server by going to the terminal where you started it and press **Ctrl+C** 2 times. This will also close this page.

---

# *Note* 

At present, even the native Perplexity tools sometimes fail to export a thread properly and the initial prompt is lost. Or generated files are missing. This happens usually if the prompt and/or the conversation are very long (>100k as markdown file). Therefore, the import might not be 100% perfect. I have tested the import with conversations that were 400k and a dozen of generated files but I cannot guarantee it will work always all the time. In the future, Perplexity might change the way it displays the conversations too. Then an update might be needed, so <a href="https://ko-fi.com/niko256238" target="_blank" class="kofi-link">
                    â˜• Buy me a cappuccino! It keeps the updates brewing!â˜•
                </a>


# *Security concerns?*

All what goes on is contained in your computer. A local web server is created, a auto-browsing engine is evoked, scripts are run to extract **your** data from the Perplexity server. Technically, you can do that by hand. Perplexity Codex just saves you the time and effort. 

If you want you can go to the **github repository from where you hopefully downloaded** the tool https://github.com/nikssen/Perplexity-Codex/ and check the source code. I personally, find this too much of an effort.  

So just load the .ts files from the src/ folder to an an AI and prompt it "Check this code for malicious activity. Does it send data anywhere? Does it use my data outside my computer? Does it expose anything of private and secure nature to the outside world?" You can do that for free in many AI chatbots.  

# *Troubleshooting*
- I did my best to test Perplexity Codex. I worked under Windows 10 and I don't have the means and time to try all kind of configurations and operating systems. So bugs *may* exist. 
- If the browser doesnâ€™t open at all, or opens and closes instantly, try `npx puppeteer browsers install chrome`. 
- Puppeteer doesnâ€™t like to be ran from a global installation, so perhaps try cloning the project and running it this way. 

# *Acknowledgments*

This is a clone, fix (it didn't work for me, at least) and expansion of the tool Leonid Shevtsov made here - https://github.com/leonid-shevtsov/perplexport.git.  